# 오늘의 운세(매일 아침 리추얼) PRD

> - **문서 버전:** 1.0
> - **작성자:** Tony
> - **최종 수정일:** 2025-08-21

---

### 1. 개요 (Overview)

_이 프로젝트는 **매일 아침 확인 가능한 "오늘의 운세" 기능**을 제공하여 **사용자의 일일 방문 루틴을 형성**하고 **리텐션(특히 D1/D7) 향상**을 달성하기 위한 **데일리 리추얼 기능**입니다. 사용자는 **기상 직후 앱을 열어 오늘의 운세·행운 요소·한 줄 조언**을 간편하게 확인할 수 있습니다._

---

### 2. 배경 및 문제 정의 (Background & Problem Statement)

- **문제 상황:**

  - 현재 홈 화면에 정적/일회성 콘텐츠 비중이 높아, 사용자가 매일 방문해야 할 명확한 동기가 약함.
  - 개인화/정기성 동기가 부족하여, 초기 사용자의 습관 형성이 어렵고 재방문율이 낮음.

- **근거 자료(가정 포함):**

  - [가정] 데일리 리추얼(매일 확인하는 고정 모듈)을 제공하면 D7 리텐션과 DAU가 유의미하게 개선되는 업계 벤치마크가 존재.
  - [내부] 운세·사주 카테고리는 “오늘/이번주/이번달” 테마의 반복 소비에 적합하며, 간단한 의식화 요소(행운 아이템/숫자) 노출 시 재방문 동기가 강화됨.

- **기회:**
  - “오늘의 운세”를 홈 최상단 진입점 및 알림/위젯과 연계하여 ‘매일 아침 앱을 열 이유’를 제공.
  - 간단한 설정(생년월일/시간대)만으로 높은 체감 가치를 제공하고, 이후 유료 점괘/관련 콘텐츠로 자연스러운 확장을 유도.

---

### 3. 목표 및 성공 지표 (Goals & Success Metrics)

- **상위 목표 (Business Goal):** 일일 재방문 루틴 구축을 통해 **D7 리텐션과 DAU**를 개선하고, 운세 관련 **콘텐츠 소비/전환 기회**를 확대.

- **제품 목표 (Product Goal):** 홈 진입 시 첫 10초 내에 오늘의 운세 확인을 완료할 수 있는 **저마찰(무-탭 또는 원-탭) 경험** 제공. 반복 사용 유도 장치(연속 확인 스트릭, 가벼운 보상)를 통해 **습관화** 달성.

- **핵심 성공 지표 (Success Metrics):**
  - **주요 지표 (Primary Metric):**
    - 기능 노출 cohort 기준 **D7 리텐션 +3~5%p** (90일 내)
    - 홈 진입 세션 대비 **오늘의 운세 노출→완독(스크롤/상세 열람) 전환율 ≥ 35%**
  - **보조 지표 (Secondary Metrics):**
    - 오전(06:00~11:00) 세션 비중 +10%p
    - 연속 확인 **스트릭 3일+ 달성 사용자 비율 ≥ 25%**
    - 공유 버튼 클릭률 ≥ 3%, 관련 콘텐츠(유료/추천) 후속 진입률 ≥ 8%
  - **가드레일 지표 (Guardrails):**
    - 앱 콜드 스타트 P95 로딩 시간 **증가 없음(±100ms 이내)**
    - 알림 옵트아웃률 **≤ 5%/주** (Phase 2 적용 시)
    - VOC/신고 **증가 없음** (스팸성 알림/부정확성 관련)

---

### 4. 사용자 스토리 및 요구사항 (User Stories & Requirements)

- **핵심 사용자 (Target Persona):** 매일 아침 짧은 시간에 운세/한 줄 조언을 확인하고 하루 계획의 감정적 시작점을 만들고 싶은 일반 사용자(신규/기존 모두).

- **사용자 스토리 (User Stories):**

  - **#1 신규 사용자(설정 미완):**

    - *“앱을 처음 설치한 사용자”*로서, 생년월일을 간단히 설정하고 홈에서 **오늘의 운세 요약**을 바로 볼 수 있다.
    - **요구사항 (Acceptance Criteria):**
      - [ ] 최초 진입 시 **생년월일/시간대(자동 감지 기본값)** 설정 요청 또는 나중에 하기 선택 가능.
      - [ ] 설정을 건너뛰어도 **비개인화 기본 운세**를 제공.
      - [ ] 홈 상단에 ‘오늘의 운세’ 카드가 노출되고, **한 줄 요약/행운 요소/간단 조언**이 포함.
      - [ ] 상세 보기로 이동 시 **오늘/이번주** 탭 확인 가능(주간은 Phase 2 가정).

  - **#2 기존 사용자(반복 확인):**

    - *“기존 사용자”*로서, 매일 아침 홈 진입 시 **오늘의 운세가 자동으로 갱신**되어 빠르게 확인할 수 있다.
    - **요구사항 (Acceptance Criteria):**
      - [ ] **현지 시간 자정 이후(00:00~)** 새 카드로 갱신. 갱신 시점 전까지는 전일 카드 유지.
      - [ ] 홈 진입 시 첫 화면 **폴드 상태 요약** + 터치 시 **확장 상세**.
      - [ ] **스트릭 표시**(연속 확인 일수) 및 주차별 하이라이트 제공(동기 강화).
      - [ ] **오프라인/네트워크 이슈 시** 마지막 캐시 카드와 폴백 메시지 표시.

  - **#3 알림 사용자(Phase 2):**
    - *“알림 수신 동의 사용자”*로서, **내가 지정한 아침 시간**에 ‘오늘의 운세’를 푸시로 받아 바로 확인할 수 있다.
    - **요구사항 (Acceptance Criteria):**
      - [ ] 알림 시간 범위 **06:00~10:00** 중 선택. 주말 별도 설정 옵션(가정).
      - [ ] 푸시 탭 시 앱 내 ‘오늘의 운세’ 상세뷰로 딥링크.
      - [ ] **과다 알림 방지**: 1일 1회, 미확인 시 당일 재푸시 없음.

---

### 5. 범위 (Scope)

- **In Scope (포함 범위):**

  - [ ] **생년월일/시간대 기반 오늘의 운세 생성/선정**(간단 규칙/템플릿 기반, ML 아님)
  - [ ] 홈 상단 **오늘의 운세 카드/상세 화면**(요약, 행운 요소: 숫자/컬러/아이템, 오늘의 한 줄)
  - [ ] **일자 갱신 로직**(현지 자정 기준), 캐시/오프라인 폴백 처리
  - [ ] **스트릭 계산/표시**(연속 확인일 유지, 백업/복구 정책 포함)
  - [ ] **로그 수집**: 노출/확인/상세/공유/스트릭 변화/오전 시간대 진입
  - [ ] **AB 실험 태깅**(카드 레이아웃 A/B, 스트릭 on/off 등 실험 가능태 준비)

- **Out of Scope (제외 범위):**
  - [ ] **고도 개인화/ML 추천**(초기 버전은 룰/템플릿 기반)
  - [ ] **다국어/다지역 전문 역서 해석**(국문 단일, 내부 가이드 기반 텍스트)
  - [ ] **위젯/락스크린/워치 연동**(Phase 2+)
  - [ ] **유료 점괘 구매 플로우 개편**(관련 콘텐츠 진입만 연결, 결제 개선은 별도)

---

### 6. UI/UX 디자인

- **사용자 플로우 (User Flow):**

  1. 앱 실행 → 홈 상단 ‘오늘의 운세’ 카드 노출(요약/행운 요소/한 줄 조언)
  2. 카드를 탭하면 상세로 확장: 오늘 상세(감정/일/금전/관계 서브 섹션), 공유 버튼, 관련 콘텐츠 추천(연결만)
  3. 00:00 이후 첫 진입 시 신규 카드로 자동 갱신(배지: ‘NEW’/스트릭 업데이트)
  4. 설정에서 생년월일 수정 가능. 시간대는 OS 기본값 사용, 변경 가능(가정)
  5. 네트워크 실패 시 마지막 정상 카드 + 폴백 안내 표시

- **와이어프레임/디자인 시안:** Figma 링크(가정). 기존 홈 상단 Hero/카드 UI 재사용, 레이블만 추가.

---

### 7. 릴리즈 계획 (Release Plan)

- **1단계 (Phase 1):**

  - 홈 상단 오늘의 운세 카드/상세, 일자 갱신/캐시/폴백, 스트릭 v1(연속 확인)
  - 단일 알림 없음(푸시는 제외). 국문, 단일 타임존 로직(현지 자정) 지원
  - KPI 관측: 노출→확인 전환, 스트릭 분포, 오전 세션 비중 변화, D7 리텐션(기능 노출 cohort)

- **2단계 (Phase 2):**
  - **아침 알림**(사용자 지정 시간), 위젯/락스크린, 스트릭 보상(경량 배지)
  - 카드 레이아웃/콘텐츠 톤 A/B, 주간 운세 탭, 추천 연계 고도화
  - Guardrail 모니터링(알림 옵트아웃, 성능, VOC)

---

### 8. 기타 (Q&A, 참고자료)

- **의존성 (Dependencies):**

  - [ ] **콘텐츠/룰셋**: 오늘의 운세/행운 요소/한 줄 조언 생성 규칙 및 문안 라이브러리
  - [ ] **백엔드 API**: 사용자 DOB/시간대 저장, 오늘의 운세 생성/배포, 일자 갱신 스케줄러
  - [ ] **클라이언트 앱**: 홈 카드/상세 구현, 캐시/오프라인, 스트릭 UI
  - [ ] **데이터/분석**: 로그 스키마, 대시보드(D1/D7, 오전 세션, 스트릭, 전환)
  - [ ] **알림 인프라(Phase 2)**: 시간대별 예약, 딥링크, rate limit

- **비기능 요구사항 (NFRs):**

  - 추천/생성 API **P95 < 400ms**, 홈 렌더링 오버헤드 **< 100ms**
  - 가용성 **99.9%**, 장애 시 **캐시된 전일 카드 폴백** 및 배너 안내
  - 개인정보(생년월일) **암호화 저장**, 최소 수집 원칙 및 동의 고지

- **폴백 로직:**

  - 서버 오류/타임아웃(>800ms) 시 마지막 캐시 카드 렌더 + “현재 네트워크 불안정, 최근 운세 표시 중” 안내.
  - 자정 갱신 실패 시, 다음 성공 시점에 일괄 갱신 및 스트릭 영향 없도록 보정.

- **Q&A:**
  - **Q:** 생년월일 미입력 사용자는?  
    **A:** 비개인화 기본 운세 제공 후 온보딩/설정 유도.
  - **Q:** 갱신 기준 시각은?  
    **A:** 사용자의 **현지 시간 자정**. DST/타임존 변경은 OS/백엔드 라이브러리 준수.
  - **Q:** 스트릭 보정은?  
    **A:** 서버 기준 확인 이벤트로 집계, 장애/알림 미수신 등 시스템 이슈는 무과실 보정 원칙.
  - **Q:** 알림 과다 우려는?  
    **A:** 1일 1회, 사용자 지정 시간, 옵트아웃 쉬움. 옵트아웃률 가드레일 모니터링.
